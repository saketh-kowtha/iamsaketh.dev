/* ==================================
   CONSOLIDATED SOULSBORNE THEME SYSTEM
   Research-based authentic color palettes and typography
   All themes researched from actual game UIs
   ================================== */

/* Import researched fonts from Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;500;600;700&family=Cinzel:wght@400;500;600;700;800;900&family=Cormorant+Garamond:wght@400;500;600;700&family=Playfair+Display:wght@400;500;600;700;800;900&family=Noto+Serif:wght@400;500;600;700&display=swap');

/* ==================================
   NORMAL MODE - Professional Theme (Default)
   Clean, modern design for professional presentation
   ================================== */
:root,
html[data-mode="normal"] {
  /* Backgrounds */
  --color-bg: #0a0a0a;
  --color-surface: #1a1a1a;
  --color-card: #242424;

  /* Accent colors */
  --color-accent: #3b82f6;
  --color-accent-2: #60a5fa;

  /* Text */
  --color-text: #e5e7eb;
  --color-text-muted: #9ca3af;
  --color-text-dark: #1a1a1a;

  /* UI Elements */
  --color-danger: #ef4444;
  --glass-bg: rgba(26, 26, 26, 0.6);
  --glass-border: rgba(255, 255, 255, 0.1);
  --border-ornate: rgba(59, 130, 246, 0.3);

  /* Effects */
  --title-glow-1: rgba(59, 130, 246, 0.2);
  --title-glow-2: rgba(96, 165, 250, 0.25);
  --glow-accent: rgba(59, 130, 246, 0.4);
  --vignette-end: rgba(0, 0, 0, 0.5);
  --grain-opacity: 0.03;

  /* Fonts - Modern Sans-Serif */
  --font-heading: 'Inter', system-ui, -apple-system, sans-serif;
  --font-body: 'Inter', system-ui, -apple-system, sans-serif;
  --font-gothic: 'Inter', system-ui, sans-serif;
}

/* Normal Mode Light Theme */
html[data-mode="normal"][data-theme="light"] {
  --color-bg: #ffffff;
  --color-surface: #f9fafb;
  --color-card: #f3f4f6;
  --color-accent: #2563eb;
  --color-accent-2: #3b82f6;
  --color-text: #111827;
  --color-text-muted: #6b7280;
  --color-text-dark: #ffffff;
  --glass-bg: rgba(249, 250, 251, 0.8);
  --glass-border: rgba(0, 0, 0, 0.1);
  --vignette-end: rgba(255, 255, 255, 0.3);
  --grain-opacity: 0.02;
}

/* ==================================
   GAME MODE - BONFIRE (Dark Souls 3)
   Research: Dark Souls Remastered palette, Adobe Garamond font
   Sources: color-hex.com/color-palette/106718, Game UI Database
   ================================== */
html[data-mode="game"][data-theme="bonfire"] {
  /* Backgrounds - Researched from DS3 UI */
  --color-bg: #1b1a17;           /* Dark ash/stone background */
  --color-surface: #38322b;      /* Warm stone surface */
  --color-card: #2a251f;         /* Card/panel background */

  /* Accent colors - Authentic bonfire palette */
  --color-accent: #ff7100;       /* Bonfire ember orange (primary) */
  --color-accent-2: #edb500;     /* Soul gold (secondary) */

  /* Text - Parchment-inspired */
  --color-text: #f4efde;         /* Parchment white */
  --color-text-muted: #a78a6d;   /* Faded parchment */
  --color-text-dark: #0c0a07;    /* Deep charcoal for contrast */

  /* UI Elements */
  --color-danger: #b32424;       /* Deep red flame */
  --glass-bg: rgba(56, 50, 43, 0.5);
  --glass-border: rgba(237, 181, 0, 0.15);
  --border-ornate: rgba(255, 113, 0, 0.4);

  /* Effects - Ember glow */
  --title-glow-1: rgba(255, 113, 0, 0.3);
  --title-glow-2: rgba(237, 181, 0, 0.35);
  --glow-accent: rgba(255, 113, 0, 0.5);
  --vignette-end: rgba(0, 0, 0, 0.7);
  --grain-opacity: 0.08;

  /* Fonts - Adobe Garamond (researched, using EB Garamond) */
  --font-heading: 'Cinzel', 'EB Garamond', Georgia, serif;
  --font-body: 'EB Garamond', Georgia, serif;
  --font-gothic: 'Cinzel', serif;
}

/* ==================================
   GAME MODE - GRACE (Elden Ring)
   Research: Agmena font (Garamond-like), grace golden glow
   Sources: color-hex.com/color-palette/1051683, Elden Ring UI research
   ================================== */
html[data-mode="game"][data-theme="grace"] {
  /* Backgrounds - Deep blacks of the Lands Between */
  --color-bg: #040200;           /* Pure black background */
  --color-surface: #27170d;      /* Dark brown-black surface */
  --color-card: #1a1208;         /* Card background */

  /* Accent colors - Grace golden glow */
  --color-accent: #f9c043;       /* Grace golden glow (primary) */
  --color-accent-2: #bd6707;     /* Erdtree amber (secondary) */

  /* Text - Clean with golden undertones */
  --color-text: #e5e7eb;         /* Clean white */
  --color-text-muted: #b2a66c;   /* Aged gold parchment */
  --color-text-dark: #0b0b0b;    /* Deep black */

  /* UI Elements */
  --color-danger: #7f1d1d;       /* Dark red */
  --glass-bg: rgba(39, 23, 13, 0.5);
  --glass-border: rgba(249, 192, 67, 0.15);
  --border-ornate: rgba(249, 192, 67, 0.4);

  /* Effects - Grace glow */
  --title-glow-1: rgba(249, 192, 67, 0.3);
  --title-glow-2: rgba(189, 103, 7, 0.35);
  --glow-accent: rgba(249, 192, 67, 0.5);
  --vignette-end: rgba(0, 0, 0, 0.75);
  --grain-opacity: 0.07;

  /* Fonts - Agmena-inspired (using EB Garamond + Cinzel) */
  --font-heading: 'Cinzel', 'EB Garamond', 'Cormorant Garamond', Georgia, serif;
  --font-body: 'EB Garamond', 'Cormorant Garamond', Georgia, serif;
  --font-gothic: 'Cinzel', serif;
}

/* ==================================
   GAME MODE - IDOL (Sekiro: Shadows Die Twice)
   Research: Otsutome/Noto Serif font, weathered brass colors
   Sources: Nexus Mods, Game UI Database, Japanese aesthetic research
   ================================== */
html[data-mode="game"][data-theme="idol"] {
  /* Backgrounds - Dark stone and weathered wood */
  --color-bg: #0c0d0e;           /* Dark stone */
  --color-surface: #1a1612;      /* Weathered wood */
  --color-card: #2a2520;         /* Warm charcoal */

  /* Accent colors - Weathered brass and sake brown */
  --color-accent: #c0b9a0;       /* Weathered brass (primary) */
  --color-accent-2: #8b7355;     /* Sake brown (secondary) */

  /* Text - Minimal Japanese aesthetic */
  --color-text: #e5e7eb;         /* Clean white */
  --color-text-muted: #9ca3af;   /* Muted gray */
  --color-text-dark: #0c0d0e;    /* Dark stone */

  /* UI Elements */
  --color-danger: #7f1d1d;       /* Dark red */
  --glass-bg: rgba(26, 22, 18, 0.55);
  --glass-border: rgba(192, 185, 160, 0.15);
  --border-ornate: rgba(192, 185, 160, 0.35);

  /* Effects - Minimal glow */
  --title-glow-1: rgba(192, 185, 160, 0.25);
  --title-glow-2: rgba(139, 115, 85, 0.3);
  --glow-accent: rgba(192, 185, 160, 0.4);
  --vignette-end: rgba(0, 0, 0, 0.65);
  --grain-opacity: 0.06;

  /* Fonts - Noto Serif for Japanese feel */
  --font-heading: 'Noto Serif', 'Cormorant Garamond', 'Cinzel', Georgia, serif;
  --font-body: 'Noto Serif', 'Cormorant Garamond', Georgia, serif;
  --font-gothic: 'Cinzel', serif;
}

/* ==================================
   GAME MODE - STARGAZER (Lies of P)
   Research: Belle Epoque era, Victorian steampunk palette
   Sources: Steampunk color research, DeviantArt font extraction
   ================================== */
html[data-mode="game"][data-theme="stargazer"] {
  /* Backgrounds - Obsidian blues and Victorian dark */
  --color-bg: #0b0e12;           /* Obsidian blue-black */
  --color-surface: #1a1410;      /* Dark brass/wood */
  --color-card: #2a1f18;         /* Warm Victorian dark */

  /* Accent colors - Stargazer blue and brass gold */
  --color-accent: #9ac1ff;       /* Stargazer blue glow (primary) */
  --color-accent-2: #d4af35;     /* Brass gold (secondary) */

  /* Text - Steel and Victorian */
  --color-text: #e5e7eb;         /* Clean white */
  --color-text-muted: #8d9aaf;   /* Steel gray */
  --color-text-dark: #0b0e12;    /* Obsidian black */

  /* UI Elements */
  --color-danger: #7f1d1d;       /* Dark red */
  --glass-bg: rgba(26, 20, 16, 0.55);
  --glass-border: rgba(154, 193, 255, 0.15);
  --border-ornate: rgba(154, 193, 255, 0.35);

  /* Effects - Stargazer glow */
  --title-glow-1: rgba(154, 193, 255, 0.25);
  --title-glow-2: rgba(212, 175, 53, 0.3);
  --glow-accent: rgba(154, 193, 255, 0.4);
  --vignette-end: rgba(0, 0, 0, 0.7);
  --grain-opacity: 0.06;

  /* Fonts - Belle Epoque/Victorian typography */
  --font-heading: 'Playfair Display', 'Cormorant', 'Cinzel', Georgia, serif;
  --font-body: 'Cormorant', 'Playfair Display', Georgia, serif;
  --font-gothic: 'Cinzel', serif;
}

/* ==================================
   BASE STYLES & UTILITIES
   ================================== */

html, body {
  font-family: var(--font-body);
  background-color: var(--color-bg);
  color: var(--color-text);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Typography utilities */
.font-heading { font-family: var(--font-heading); }
.font-body { font-family: var(--font-body); }
.font-gothic { font-family: var(--font-gothic); }

/* Color utilities */
.bg-base { background-color: var(--color-bg); }
.bg-surface { background-color: var(--color-surface); }
.bg-card { background-color: var(--color-card); }
.text-primary { color: var(--color-text); }
.text-muted { color: var(--color-text-muted); }
.text-accent { color: var(--color-accent); }
.text-accent-2 { color: var(--color-accent-2); }
.border-accent { border-color: var(--color-accent); }
.border-ornate { border-color: var(--border-ornate); }

/* Glass morphism effect */
.glass {
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  background-color: var(--glass-bg);
  border: 1px solid var(--glass-border);
}

/* Ornate borders (Soulsborne-style) */
.ornate-border {
  position: relative;
}
.ornate-border::before {
  content: '';
  position: absolute;
  inset: 0;
  border: 1px solid var(--border-ornate);
  pointer-events: none;
  border-radius: inherit;
}

/* Text effects */
.distressed-text {
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 12px var(--title-glow-1);
  letter-spacing: 0.02em;
}

.title-glow {
  animation: titleGlow 3.2s ease-in-out infinite;
}

@keyframes titleGlow {
  0%, 100% {
    text-shadow: 0 0 10px var(--title-glow-1), 0 0 30px var(--title-glow-2);
  }
  50% {
    text-shadow: 0 0 18px var(--title-glow-2), 0 0 50px var(--title-glow-2);
  }
}

/* Overlay effects */
.vignette-overlay::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0) 30%, var(--vignette-end) 100%);
  z-index: 10;
}

.grain-overlay::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url('data:image/svg+xml,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noise"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noise)"/%3E%3C/svg%3E');
  opacity: var(--grain-opacity);
  mix-blend-mode: overlay;
  z-index: 9;
}

/* Buttons */
.btn-primary {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.625rem 1.5rem;
  border-radius: 0.375rem;
  color: var(--color-text-dark);
  background: linear-gradient(180deg, var(--color-accent-2) 0%, var(--color-accent) 100%);
  font-weight: 600;
  font-family: var(--font-heading);
  border: none;
  cursor: pointer;
  transition: transform 180ms ease, box-shadow 220ms ease, filter 220ms ease;
  box-shadow: 0 0 0 var(--glow-accent);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 24px var(--glow-accent);
  filter: brightness(1.1);
}

.btn-primary:active {
  transform: translateY(0);
  filter: brightness(0.95);
}

.btn-secondary {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.625rem 1.5rem;
  border-radius: 0.375rem;
  color: var(--color-text);
  background: var(--glass-bg);
  border: 1px solid var(--border-ornate);
  font-weight: 500;
  font-family: var(--font-heading);
  cursor: pointer;
  transition: transform 180ms ease, border-color 220ms ease, background-color 220ms ease;
}

.btn-secondary:hover {
  transform: translateY(-2px);
  border-color: var(--color-accent);
  background-color: rgba(var(--color-surface), 0.8);
}

.btn-secondary:active {
  transform: translateY(0);
}

/* Cards */
.card {
  position: relative;
  background: var(--color-card);
  border: 1px solid var(--glass-border);
  border-radius: 0.5rem;
  padding: 1.5rem;
  transition: transform 200ms ease, box-shadow 220ms ease, border-color 220ms ease;
}

.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4), 0 0 24px var(--title-glow-1);
  border-color: var(--border-ornate);
}

.card-gothic {
  position: relative;
  background: radial-gradient(120% 120% at 0% 0%, var(--title-glow-1), var(--color-surface));
  border: 1px solid var(--border-ornate);
  border-radius: 0.5rem;
  transition: transform 200ms ease, box-shadow 220ms ease, border-color 220ms ease;
}

.card-gothic:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35), 0 0 22px var(--title-glow-2);
  border-color: var(--color-accent);
}

/* Badge */
.badge {
  font-size: 0.7rem;
  padding: 0.15rem 0.5rem;
  border: 1px solid var(--border-ornate);
  border-radius: 9999px;
  color: var(--color-text);
  background: var(--glass-bg);
  font-family: var(--font-body);
}

/* Health bar (for skills) */
.health-bar {
  height: 0.5rem;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 9999px;
  overflow: hidden;
}

.health-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--color-accent), var(--color-accent-2));
  transition: width 0.4s ease;
}

/* Particle effects (game mode only) */
html[data-mode="game"] .particle-container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 5;
  overflow: hidden;
}

/* Smooth transitions */
* {
  transition-property: background-color, border-color, color;
  transition-duration: 0.3s;
  transition-timing-function: ease;
}

/* Override Tailwind classes to use CSS variables */
.bg-abyss { background-color: var(--color-bg) !important; }
.bg-onyx { background-color: var(--color-surface) !important; }
.text-auric { color: var(--color-accent) !important; }
.border-auric { border-color: var(--color-accent) !important; }
.shadow-ember { box-shadow: 0 0 24px var(--glow-accent) !important; }

/* Game-specific enhancements */
html[data-mode="game"] {
  --grain-opacity: 0.08;
}

html[data-mode="game"] .font-gothic {
  letter-spacing: 0.05em;
  font-weight: 600;
}

html[data-mode="game"] h1,
html[data-mode="game"] h2,
html[data-mode="game"] h3 {
  font-family: var(--font-gothic);
}
